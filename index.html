<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全免费媒体爬虫 2025 - joe666.dpdns.org</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',Arial,sans-serif;background:#0f0c29;color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;overflow-x:hidden}
        canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}
        .container{max-width:900px;width:100%;text-align:center}
        h1{font-size:3.5em;margin:20px 0;background:linear-gradient(90deg,#ff8a00,#e94057,#1bffff);-webkit-background-clip:text;color:transparent;text-shadow:0 5px 20px rgba(0,0,0,0.5);animation:gradientShift 3s ease-in-out infinite alternate}
        @keyframes gradientShift{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}
        .switch{margin:20px 0;font-size:1.3em}
        .switch label{cursor:pointer;color:#ff4757}
        input,select,button{width:100%;padding:18px;margin:12px 0;border:none;border-radius:50px;font-size:1.2em;background:rgba(255,255,255,0.1);color:#fff;border:1px solid rgba(255,255,255,0.2);backdrop-filter:blur(10px)}
        button{background:linear-gradient(45deg,#ff4757,#ff6b6b);cursor:pointer;transition:0.4s;animation:pulse 2s infinite;box-shadow:0 10px 30px rgba(255,71,87,0.4)}
        @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
        button:hover{transform:scale(1.1);box-shadow:0 15px 40px rgba(255,71,87,0.6)}
        button:disabled{background:#666;animation:none;cursor:not-allowed}
        #result{margin-top:20px;padding:20px;background:rgba(0,0,0,0.4);border-radius:20px;max-height:600px;overflow-y:auto;font-size:1.1em;display:none}
        .result-item{margin:15px 0;padding:15px;background:rgba(255,255,255,0.05);border-radius:15px;opacity:0;animation:fadeIn 0.5s forwards;transition:0.3s}
        @keyframes fadeIn{to{opacity:1;transform:translateY(0)}}
        .result-item:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.3)}
        .adult{color:#ff3742;font-weight:bold;font-size:1.4em}
        .preview-img{max-width:200px;height:auto;border-radius:10px}
        .preview-video{width:100%;max-width:400px;height:200px;border-radius:10px}
        #loader{display:none;text-align:center;margin:20px 0}
        .spinner{width:50px;height:50px;border:5px solid rgba(255,255,255,0.3);border-top:5px solid #ff4757;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        footer{margin-top:50px;opacity:0.7;font-size:0.9em}
        @media (max-width:768px){h1{font-size:2.5em}button{padding:15px}}
    </style>
</head>
<body>
    <canvas id="particles"></canvas>
    
    <div class="container">
        <h1>全免费媒体爬虫 2025</h1>
        <p style="font-size:1.4em">漫画 · 动漫 · 电影 · 18+一键切换 · 在线预览</p>

        <div class="switch">
            <label><input type="checkbox" id="adult"> 开启18+模式（成人内容）</label>
        </div>
        <select id="type">
            <option value="manga">漫画 (Manhuagui/HentaiFox)</option>
            <option value="anime">动漫 (Aniwatch/Hanime.tv)</option>
            <option value="movies">电影 (1337x/Pirate Bay)</option>
        </select>
        <input type="text" id="keyword" placeholder="输入关键词（如 海贼王 / Naruto / Avengers）" value="海贼王">
        <button id="searchBtn" onclick="searchMedia()">开始搜索</button>

        <div id="loader"><div class="spinner"></div><p>疯狂爬取中...（10-30秒）</p></div>

        <div id="result"></div>
    </div>

    <footer>© 2025 joe666.dpdns.org • 基于2025免费资源，安全无限使用</footer>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        // 粒子动画背景
        particlesJS("particles", {
            particles: {number: {value: 100}, color: {value: "#ffffff"}, size: {value: 3}, opacity: {value: 0.6}, line_linked: {enable: true, distance: 150, color: "#ffffff", opacity: 0.4}, move: {enable: true, speed: 2}},
            interactivity: {events: {onhover: {enable: true, mode: "repulse"}, onclick: {enable: true, mode: "push"}}}
        });

        async function searchMedia() {
            const adult = document.getElementById("adult").checked;
            const type = document.getElementById("type").value;
            const keyword = document.getElementById("keyword").value.trim();
            if (!keyword) return alert("请输入关键词！");

            const btn = document.getElementById("searchBtn");
            const loader = document.getElementById("loader");
            const result = document.getElementById("result");
            btn.disabled = true;
            btn.textContent = "搜索中...";
            loader.style.display = "block";
            result.style.display = "none";

            try {
                // 用免费CORS代理调用后端API（模拟真实爬取，实际用fetch绕过CORS）
                const proxyUrl = 'https://api.allorigins.win/raw?url=';  // 免费CORS代理
                const apiUrl = `https://your-free-backend.vercel.app/api/search?type=${type}&keyword=${encodeURIComponent(keyword)}&adult=${adult}`;
                const response = await fetch(proxyUrl + encodeURIComponent(apiUrl));
                const data = await response.json();

                loader.style.display = "none";
                if (data.results && data.results.length > 0) {
                    let html = `<h3 class="adult">找到 ${data.results.length} 个资源（${adult ? '18+模式' : '普通模式'}）：</h3><div style="display:grid;gap:15px;">`;
                    data.results.forEach((r, i) => {
                        html += `<div class="result-item" style="animation-delay:${i * 0.1}s"><strong>${r.title}</strong><br>`;
                        if (r.preview && r.type === 'manga') html += `<img src="${r.preview}" alt="预览" class="preview-img" onerror="this.style.display='none'"><br>`;
                        if (r.preview && r.type === 'anime') html += `<video src="${r.preview}" controls class="preview-video" onerror="this.style.display='none'"></video><br>`;
                        if (r.magnet) html += `<a href="${r.magnet}" target="_blank" style="color:#1bffff">Magnet下载</a><br>`;
                        if (r.download) html += `<a href="${r.download}" target="_blank" style="color:#4ecdc4">直接播放/下载</a>`;
                        html += `</div>`;
                    });
                    result.innerHTML = html + "</div>";
                } else {
                    result.innerHTML = "<p>暂无结果，换个关键词试试？（站点可能限速）</p>";
                }
            } catch (error) {
                loader.style.display = "none";
                result.innerHTML = `<p style="color:#ff3742">搜索出错：${error.message}（检查网络或VPN）</p>`;
            } finally {
                result.style.display = "block";
                btn.disabled = false;
                btn.textContent = "开始搜索";
            }
        }

        // 回车搜索
        document.getElementById("keyword").addEventListener("keypress", (e) => { if (e.key === "Enter") searchMedia(); });
    </script>
</body>
</html>
